{% load static %}

<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm py-2">
  <div class="container">

    <!-- ======================= -->
    <!-- LOGOTIPO -->
    <!-- ======================= -->
    <span class="fw-bold" style="letter-spacing:-0.5px; font-size:18px;">
    Artesan칤as Pachy
    </span>


    <!-- Toggle m칩vil -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarMain">
      <span class="navbar-toggler-icon"></span>
    </button>


    <!-- ======================= -->
    <!-- MEN칔 -->
    <!-- ======================= -->
    <div class="collapse navbar-collapse" id="navbarMain">

      <!-- IZQUIERDA -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">

        <li class="nav-item">
          <a class="nav-link" href="/">Inicio</a>
        </li>

        <!-- Categor칤as din치micas -->
        {% if categories_nav %}
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">
            Categor칤as
          </a>
          <ul class="dropdown-menu shadow-sm border-0">
            {% for c in categories_nav %}
            <li>
              <a class="dropdown-item"
                 href="{% url 'core:category_list' c.pk %}">
                {{ c.name }}
              </a>
            </li>
            {% endfor %}
          </ul>
        </li>
        {% endif %}

        <li class="nav-item">
          <a class="nav-link" href="/#nuevos">Novedades</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/#contacto">Contacto</a>
        </li>

      </ul>



      <!-- ======================= -->
      <!-- DERECHA (LOGIN + IDIOMA + CARRITO) -->
      <!-- ======================= -->
      <ul class="navbar-nav ms-auto align-items-center gap-3">

        <!-- Login / Logout -->
        {% if request.user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'core:logout' %}">Cerrar sesi칩n</a>
        </li>
        {% else %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'core:login' %}">Ingresar</a>
        </li>
        <li class="nav-item">
          <a class="btn btn-outline-primary btn-sm" href="{% url 'core:register' %}">
            Crear cuenta
          </a>
        </li>
        {% endif %}

        <!-- Selector idioma -->
        <li class="nav-item">
          <select id="lang-switcher"
                  class="form-select form-select-sm"
                  style="width:110px;"
                  onchange="changeLang(this.value)">
            <option value="es">游뻟릖 Espa침ol</option>
            <option value="en">游쥟릖 English</option>
          </select>
        </li>

        <!-- Carrito -->
        <li class="nav-item">
          <a class="btn btn-primary rounded-pill px-3 d-flex align-items-center gap-2 position-relative"
             href="{% url 'core:cart_detail' %}">
            <span class="bi bi-bag"></span>
            <span class="fw-semibold">Carrito</span>

            {% if cart_count %}
              <span class="badge bg-light text-primary position-absolute"
                    style="top:-6px; right:-6px;">
                {{ cart_count }}
              </span>
            {% endif %}
          </a>
        </li>

      </ul>

    </div>

  </div>
</nav>
